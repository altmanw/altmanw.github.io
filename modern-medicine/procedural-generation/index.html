<!doctype html>
<html
  itemscope
  class=""
  lang="en-us"
  itemtype="http://schema.org/WebPage">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
    <meta charset="utf-8" />


<meta
  name="viewport"
  content="width=device-width, initial-scale=1, maximum-scale=5" />


<meta name="theme-name" content="hugoplate" />















<link rel="shortcut icon" href="/images/favicon_hu8746059088890723258.png" type="image/x-icon">
<link rel="icon" href="/images/favicon_hu8746059088890723258.png" type="image/x-icon">
<link rel="icon" type="image/png" sizes="48x48" href="/images/favicon_hu11713732441643767409.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon_hu8746059088890723258.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon_hu13781583406303279869.png">








<link rel="manifest" href="/manifest.webmanifest" />
<meta
  name="msapplication-TileColor"
  content="#ddd" />
<meta
  name="theme-color"
  content="#ffffff" />





























  
  


<title>MM Procedural Generation</title>















  <meta
    name="keywords"
    content="Altman, GameDev, Developer" />




<meta
  name="description"
  content="MM Procedural Generation" />



  <meta name="author" content="Will Altman" />






  
  












  

  
  
  


  
  


  





<meta property="og:title" content="MM Procedural Generation" />
<meta property="og:description" content="MM Procedural Generation" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:1313/modern-medicine/procedural-generation/" />


<meta name="twitter:title" content="MM Procedural Generation" />
<meta name="twitter:description" content="MM Procedural Generation" />


  <meta name="twitter:site" content="@PrizmROBLOX" />


  <meta name="twitter:creator" content="@Will Altman" />



















<script>
  let indexURL = "http://localhost:1313/searchindex.json";
  let includeSectionsInSearch = ["blog"];
  let search_no_results = "No results for";
  let search_initial_message = "Type something to search..";
</script>























    
    
<meta http-equiv="x-dns-prefetch-control" content="on" />
<link rel="preconnect" href="https://use.fontawesome.com" crossorigin />
<link rel="preconnect" href="//cdnjs.cloudflare.com" />
<link rel="preconnect" href="//www.googletagmanager.com" />
<link rel="preconnect" href="//www.google-analytics.com" />
<link rel="dns-prefetch" href="https://use.fontawesome.com" />
<link rel="dns-prefetch" href="//ajax.googleapis.com" />
<link rel="dns-prefetch" href="//cdnjs.cloudflare.com" />
<link rel="dns-prefetch" href="//www.googletagmanager.com" />
<link rel="dns-prefetch" href="//www.google-analytics.com" />
<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//connect.facebook.net" />
<link rel="dns-prefetch" href="//platform.linkedin.com" />
<link rel="dns-prefetch" href="//platform.twitter.com" />




<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<script>
  (function () {
    const googleFont = document.createElement("link");
    googleFont.href = "https://fonts.googleapis.com/css2?family=Heebo:wght@400;600&family=Signika:wght@500;700&display=swap";
    googleFont.type = "text/css";
    googleFont.rel = "stylesheet";
    document.head.appendChild(googleFont);
  })();
</script>





  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  











  
  



<link
  href="/css/style.css"
  integrity=""
  rel="stylesheet" />


<link
  defer
  async
  rel="stylesheet"
  href="/css/style-lazy.css"
  integrity=""
  media="print"
  onload="this.media='all'; this.onload=null;" />


  </head>

  <body>
    
    
      





      
      <div
  class="fixed left-0 top-0 z-50 flex w-[30px] items-center justify-center bg-gray-200 py-[2.5px] text-[12px] uppercase text-black sm:bg-red-200 md:bg-yellow-200 lg:bg-green-200 xl:bg-blue-200 2xl:bg-pink-200">
  <span class="block sm:hidden">all</span>
  <span class="hidden sm:block md:hidden">sm</span>
  <span class="hidden md:block lg:hidden">md</span>
  <span class="hidden lg:block xl:hidden">lg</span>
  <span class="hidden xl:block 2xl:hidden">xl</span>
  <span class="hidden 2xl:block">2xl</span>
</div>

    


    
    





    
    <header
  class="header sticky top-0 z-30">
  <nav class="navbar container">
    
    <div class="order-0">
      
      <a class="navbar-brand block" href="/">
        















  









  
  
  


  
  
    
    
  


  
  
      
      
    
    
    
    
    
    
  
  

  
  
    
    
      
      


      
      
        
        
        
        

        
        
        
      
      
    
  
  

  
    <img
      fetchpriority="high"
      decoding="async"
      class="img img-light"
      width="160"
      height="32"
      src="/images/name-icon_hu14768301767699835405.webp"
      alt="Will Altman"
      onerror="this.onerror=null;this.src='\/images\/name-icon_hu14170043961657880537.png';" />

    <img
      fetchpriority="high"
      decoding="async"
      class="img img-dark"
      width="160"
      height="32"
      src="/images/name-icon_hu14768301767699835405.webp"
      alt="Will Altman"
      onerror="this.onerror=null;this.src='\/images\/name-icon_hu14170043961657880537.png';" />
  
  


      </a>
    </div>
    
    <input id="nav-toggle" type="checkbox" class="hidden" />
    <label
      for="nav-toggle"
      class="order-3 cursor-pointer flex items-center lg:hidden text-dark dark:text-white lg:order-1">
      <svg id="show-button" class="h-6 fill-current block" viewBox="0 0 20 20">
        <title>Menu Open</title>
        <path d="M0 3h20v2H0V3z m0 6h20v2H0V9z m0 6h20v2H0V0z"></path>
      </svg>
      <svg id="hide-button" class="h-6 fill-current hidden" viewBox="0 0 20 20">
        <title>Menu Close</title>
        <polygon
          points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2"
          transform="rotate(45 10 10)"></polygon>
      </svg>
    </label>
    

    
    <ul
      id="nav-menu"
      class="navbar-nav order-3 hidden lg:flex w-full pb-6 lg:order-1 lg:w-auto lg:space-x-2 lg:pb-0 xl:space-x-8 nav-menu-adjust">
      
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/"
              >Home</a
            >
          </li>
        
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/resume.pdf"
              >Résumé</a
            >
          </li>
        
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
                target="_blank" rel="noopener"
              
              href="https://github.com/altmanw/lua-code-sample"
              >Code Sample (lua)</a
            >
          </li>
        
      
        
        
        
        
          <li class="nav-item nav-dropdown group relative">
            <span
              class="nav-link 
                
                
                
              
                
                
                
              
                
                
                
               inline-flex items-center">
              Projects
              <svg class="h-4 w-4 fill-current" viewBox="0 0 20 20">
                <path
                  d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" />
              </svg>
            </span>
            <ul
              class="nav-dropdown-list lg:group-hover:visible lg:group-hover:opacity-100">
              
                
                
                <li class="nav-dropdown-item">
                  <a
                    class="nav-dropdown-link "
                    
                    href="/modern-medicine">
                    MODERN MEDICINE
                  </a>
                </li>
              
                
                
                <li class="nav-dropdown-item">
                  <a
                    class="nav-dropdown-link "
                    
                    href="/final-bounty">
                    Final Bounty
                  </a>
                </li>
              
                
                
                <li class="nav-dropdown-item">
                  <a
                    class="nav-dropdown-link "
                    
                    href="/webgl">
                    WebGL Engine
                  </a>
                </li>
              
            </ul>
          </li>
        
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/"
              ></a
            >
          </li>
        
      
      
    </ul>

    <div class="order-1 ml-auto flex items-center md:order-2 lg:ml-0">
      
        
      

      

      


  <div class="theme-switcher mr-5 hidden">
    <input id="theme-switcher" data-theme-switcher type="checkbox" />
    <label for="theme-switcher">
      <span class="sr-only">theme switcher</span>
      <span>
        
        <svg
          class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 opacity-100 dark:opacity-0"
          viewBox="0 0 56 56"
          fill="#fff"
          height="16"
          width="16">
          <path
            d="M30 4.6c0-1-.9-2-2-2a2 2 0 0 0-2 2v5c0 1 .9 2 2 2s2-1 2-2Zm9.6 9a2 2 0 0 0 0 2.8c.8.8 2 .8 2.9 0L46 13a2 2 0 0 0 0-2.9 2 2 0 0 0-3 0Zm-26 2.8c.7.8 2 .8 2.8 0 .8-.7.8-2 0-2.9L13 10c-.7-.7-2-.8-2.9 0-.7.8-.7 2.1 0 3ZM28 16a12 12 0 0 0-12 12 12 12 0 0 0 12 12 12 12 0 0 0 12-12 12 12 0 0 0-12-12Zm23.3 14c1.1 0 2-.9 2-2s-.9-2-2-2h-4.9a2 2 0 0 0-2 2c0 1.1 1 2 2 2ZM4.7 26a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4.9c1 0 2-.9 2-2s-1-2-2-2Zm37.8 13.6a2 2 0 0 0-3 0 2 2 0 0 0 0 2.9l3.6 3.5a2 2 0 0 0 2.9 0c.8-.8.8-2.1 0-3ZM10 43.1a2 2 0 0 0 0 2.9c.8.7 2.1.8 3 0l3.4-3.5c.8-.8.8-2.1 0-2.9-.8-.8-2-.8-2.9 0Zm20 3.4c0-1.1-.9-2-2-2a2 2 0 0 0-2 2v4.9c0 1 .9 2 2 2s2-1 2-2Z" />
        </svg>
        
        <svg
          class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 opacity-0 dark:opacity-100"
          viewBox="0 0 24 24"
          fill="none"
          height="16"
          width="16">
          <path
            fill="#000"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M8.2 2.2c1-.4 2 .6 1.6 1.5-1 3-.4 6.4 1.8 8.7a8.4 8.4 0 0 0 8.7 1.8c1-.3 2 .5 1.5 1.5v.1a10.3 10.3 0 0 1-9.4 6.2A10.3 10.3 0 0 1 3.2 6.7c1-2 2.9-3.5 4.9-4.4Z" />
        </svg>
      </span>
    </label>
  </div>

  
  <script>
    var darkMode = true;

    

    if (localStorage.getItem("theme") === "dark"){darkMode = true}
    else if (localStorage.getItem("theme") === "light"){darkMode = false}

    if (darkMode){document.documentElement.classList.add("dark")}
    else {document.documentElement.classList.remove("dark")}

    
    document.addEventListener("DOMContentLoaded", () => {
      var themeSwitch = document.querySelectorAll("[data-theme-switcher]");
      var themeSwitcherContainer = document.querySelector('.theme-switcher');

      [].forEach.call(themeSwitch, function (ts) {
        ts.checked = darkMode;
        ts.addEventListener("click", () => {
          document.documentElement.classList.toggle("dark");
          localStorage.setItem(
            "theme",
            document.documentElement.classList.contains("dark") ? "dark" : "light"
          );
        });
      });

      
      themeSwitcherContainer.classList.remove('hidden');
    });
  </script>




      
      
    </div>
  </nav>
</header>

    




  




    <main>
      
  <section>
  <div class="container text-center">
    <div
      class="from-body to-theme-light dark:from-darkmode-body dark:to-darkmode-theme-light rounded-2xl bg-gradient-to-b px-8 py-14">
      <h1>MODERN MEDICINE Procedural Generation</h1>
      
    </div>
  </div>
</section>



  <section class="section-sm">
    <div class="container">
      <div class="row justify-center">
        <div class="lg:col-10">
          <div class="content">
            <h3 id="procedural-generation">Procedural Generation</h3>
<h6 id="1-representing-the-world">1. Representing the world</h6>
<p>The game world is represented as an n × m array of nodes, where each node encodes the type of space it occupies: such as a room, hallway, doorway, and its associated biome. Each node also maintains references to its neighbors, forming a graph that allows traversal in multiple directions.</p>
<p>This dual structure, both array-based for direct lookup and graph-based for navigation, provides flexibility across the codebase. Many systems, from AI navigation to procedural generation and player interactions, rely on this core representation to query, manipulate, and explore the world efficiently.</p>

















  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      
        
        
      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      <figure
        class="img-center"
        role="group"
        aria-describedby="caption-A debug visualization of the node graph">
      
        <a
          href="/images/mm/pics/level-console-debug.png"
          class="glightbox" data-glightbox="description: .caption-A-debug-visualization-of-the-node-graph">
      
          <img
            title="image title"
            loading="lazy"
            decoding="async"
            class="img img-fluid"
            width="500"
            height="493"
            src="/images/mm/pics/level-console-debug_hu9073148654774452497.png"
            alt="Console debug world visualization"
            onerror="this.onerror='null';this.src='\/images\/mm\/pics\/level-console-debug_hu9073148654774452497.png'" />
      
        </a>
      
        <figcaption id="caption-A debug visualization of the node graph" class="caption-A-debug-visualization-of-the-node-graph">
          A debug visualization of the node graph
        </figcaption>
      </figure>
    

  
  







<h6 id="2-the-hallways-must-be-interesting-to-walk-through">2. The hallways must be interesting to walk through</h6>
<p>The initial prototype for hallway generation was straightforward: rooms were placed randomly on a grid, and A* pathfinding was used to connect each doorway to every other doorway, prioritizing previously generated hallways.</p>

















  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      
        
        
      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      <figure
        class="img-center"
        role="group"
        aria-describedby="caption-An early prototype example of procedural world generation">
      
        <a
          href="/images/mm/pics/procedural-gen-proto.png"
          class="glightbox" data-glightbox="description: .caption-An-early-prototype-example-of-procedural-world-generation">
      
          <img
            title="image title"
            loading="lazy"
            decoding="async"
            class="img img-fluid"
            width="500"
            height="398"
            src="/images/mm/pics/procedural-gen-proto_hu8978034997542039531.png"
            alt="A series of rooms connected by straight hallways"
            onerror="this.onerror='null';this.src='\/images\/mm\/pics\/procedural-gen-proto_hu8978034997542039531.png'" />
      
        </a>
      
        <figcaption id="caption-An early prototype example of procedural world generation" class="caption-An-early-prototype-example-of-procedural-world-generation">
          An early prototype example of procedural world generation
        </figcaption>
      </figure>
    

  
  







<p>While this approach achieved basic procedural connectivity, playtesting revealed a critical issue: long, straight hallways quickly became monotonous. The challenge was to create hallways that felt dynamic and natural while avoiding the frustration of a confusing maze.</p>
<p>To improve realism, randomized node weights were introduced into the A* algorithm. Each node was assigned a weight to influence path selection. Initially, this randomized weight caused the resulting hallways felt arbitrary and unnatural. To create more organic layouts, I experimented with perlin noise, inspired by Minecraft’s terrain generation, to bias node weights and produce smooth, flowing hallways.</p>
<p>Through this process, I unknowingly implemented what would later be recognized as Perlin Worm Tunneling, a technique that generates naturally winding paths. This approach allowed hallways to feel deliberate, varied, and engaging, supporting both exploration and gameplay pacing.</p>

















  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      
        
        
      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      <figure
        class="img-center"
        role="group"
        aria-describedby="caption-An early example of procedural world generation utilizing perlin worm tunneling">
      
        <a
          href="/images/mm/pics/perlin-example.png"
          class="glightbox" data-glightbox="description: .caption-An-early-example-of-procedural-world-generation-utilizing-perlin-worm-tunneling">
      
          <img
            title="image title"
            loading="lazy"
            decoding="async"
            class="img img-fluid"
            width="685"
            height="500"
            src="/images/mm/pics/perlin-example_hu11671213877469198173.png"
            alt="A series of rooms connected by bendy hallways"
            onerror="this.onerror='null';this.src='\/images\/mm\/pics\/perlin-example_hu11671213877469198173.png'" />
      
        </a>
      
        <figcaption id="caption-An early example of procedural world generation utilizing perlin worm tunneling" class="caption-An-early-example-of-procedural-world-generation-utilizing-perlin-worm-tunneling">
          An early example of procedural world generation utilizing perlin worm tunneling
        </figcaption>
      </figure>
    

  
  







<h6 id="3-biomes">3. Biomes</h6>
<p>To make the hallways more visually interesting, the procedural generation system includes a biome system designed around fewer, larger regions. This system leverages Perlin noise to produce natural transitions between biomes across the hallways.</p>
<p>Once the initial map and hallways are generated, a new Perlin noise map is created for all nodes. Random nodes and nodes neighboring doorways of important rooms are selected as biome anchors, and neighboring nodes are recursively grouped into the same biome if their noise values fall within a defined range. This depth-first search process continues until the anchor has expanded as far as possible, after which a new anchor is selected from unclaimed nodes. The process repeats until the majority of nodes are assigned a biome, with any remaining nodes defaulting to a baseline biome.</p>

















  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      
        
        
      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      <figure
        class="img-center"
        role="group"
        aria-describedby="caption-The different colors above the hallways represent certain biome types">
      
        <a
          href="/images/mm/pics/biome-example.png"
          class="glightbox" data-glightbox="description: .caption-The-different-colors-above-the-hallways-represent-certain-biome-types">
      
          <img
            title="image title"
            loading="lazy"
            decoding="async"
            class="img img-fluid"
            width="577"
            height="500"
            src="/images/mm/pics/biome-example_hu7070551091969716453.png"
            alt="A series of rooms connected by bendy hallways, each with specific biomes"
            onerror="this.onerror='null';this.src='\/images\/mm\/pics\/biome-example_hu7070551091969716453.png'" />
      
        </a>
      
        <figcaption id="caption-The different colors above the hallways represent certain biome types" class="caption-The-different-colors-above-the-hallways-represent-certain-biome-types">
          The different colors above the hallways represent certain biome types
        </figcaption>
      </figure>
    

  
  







<p>To add further variety, straightaway segments are detected and populated with unique designs that span multiple nodes. These provide visual relief in longer hallways and help hallways feel deliberate rather than purely procedural.</p>

















  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      
        
        
      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      <figure
        class="img-center"
        role="group"
        aria-describedby="caption-Straightaways are denoted by the cyan color. Each biome has unique straightaway designs.">
      
        <a
          href="/images/mm/pics/straightaway.png"
          class="glightbox" data-glightbox="description: .caption-Straightaways-are-denoted-by-the-cyan-color-Each-biome-has-unique-straightaway-designs">
      
          <img
            title="image title"
            loading="lazy"
            decoding="async"
            class="img img-fluid"
            width="662"
            height="500"
            src="/images/mm/pics/straightaway_hu4332081565582284750.png"
            alt="A series of rooms connected by bendy hallways with straightaways visualized"
            onerror="this.onerror='null';this.src='\/images\/mm\/pics\/straightaway_hu4332081565582284750.png'" />
      
        </a>
      
        <figcaption id="caption-Straightaways are denoted by the cyan color. Each biome has unique straightaway designs." class="caption-Straightaways-are-denoted-by-the-cyan-color-Each-biome-has-unique-straightaway-designs">
          Straightaways are denoted by the cyan color. Each biome has unique straightaway designs.
        </figcaption>
      </figure>
    

  
  
























  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      
        
        
      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      <figure
        class="img-center"
        role="group"
        aria-describedby="caption-Straightaway portions of hallways have unique, repeatable designs that span multiple nodes">
      
        <a
          href="/images/mm/pics/straightaway-experimentation.png"
          class="glightbox" data-glightbox="description: .caption-Straightaway-portions-of-hallways-have-unique-repeatable-designs-that-span-multiple-nodes">
      
          <img
            title="image title"
            loading="lazy"
            decoding="async"
            class="img img-fluid"
            width="799"
            height="500"
            src="/images/mm/pics/straightaway-experimentation_hu4022964574383898664.png"
            alt="A green hallway with unique designs on the walls"
            onerror="this.onerror='null';this.src='\/images\/mm\/pics\/straightaway-experimentation_hu4022964574383898664.png'" />
      
        </a>
      
        <figcaption id="caption-Straightaway portions of hallways have unique, repeatable designs that span multiple nodes" class="caption-Straightaway-portions-of-hallways-have-unique-repeatable-designs-that-span-multiple-nodes">
          Straightaway portions of hallways have unique, repeatable designs that span multiple nodes
        </figcaption>
      </figure>
    

  
  







<p>Some biomes include assets that extend beyond the bounds of a single node. For example, in the medfloor biome, ceilings are curved like a train tunnel, requiring larger assets to maintain visual consistency across corners and junctions. During runtime, any portions of these assets that extend outside the node boundaries are removed to prevent clipping.</p>

















  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      
        
        
      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      <figure
        class="img-center"
        role="group"
        aria-describedby="caption-Arches beyond the bounds of a single node will be removed at runtime if they do not exist within a hallway node with the medfloor biome.">
      
        <a
          href="/images/mm/pics/corner-arch.png"
          class="glightbox" data-glightbox="description: .caption-Arches-beyond-the-bounds-of-a-single-node-will-be-removed-at-runtime-if-they-do-not-exist-within-a-hallway-node-with-the-medfloor-biome">
      
          <img
            title="image title"
            loading="lazy"
            decoding="async"
            class="img img-fluid"
            width="787"
            height="500"
            src="/images/mm/pics/corner-arch_hu9483995667494361880.png"
            alt="A wall with a curving arch"
            onerror="this.onerror='null';this.src='\/images\/mm\/pics\/corner-arch_hu9483995667494361880.png'" />
      
        </a>
      
        <figcaption id="caption-Arches beyond the bounds of a single node will be removed at runtime if they do not exist within a hallway node with the medfloor biome." class="caption-Arches-beyond-the-bounds-of-a-single-node-will-be-removed-at-runtime-if-they-do-not-exist-within-a-hallway-node-with-the-medfloor-biome">
          Arches beyond the bounds of a single node will be removed at runtime if they do not exist within a hallway node with the medfloor biome.
        </figcaption>
      </figure>
    

  
  
























  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      

      
        
        
      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      <figure
        class="img-center"
        role="group"
        aria-describedby="caption-The arches must extend beyond the size of a single node to be flush with other arches.">
      
        <a
          href="/images/mm/pics/medfloor.png"
          class="glightbox" data-glightbox="description: .caption-The-arches-must-extend-beyond-the-size-of-a-single-node-to-be-flush-with-other-arches">
      
          <img
            title="image title"
            loading="lazy"
            decoding="async"
            class="img img-fluid"
            width="687"
            height="494"
            src="/images/mm/pics/medfloor_hu8474804930144497015.png"
            alt="A mysterious hallway with curved ceilings and vines hanging off the walls."
            onerror="this.onerror='null';this.src='\/images\/mm\/pics\/medfloor_hu8474804930144497015.png'" />
      
        </a>
      
        <figcaption id="caption-The arches must extend beyond the size of a single node to be flush with other arches." class="caption-The-arches-must-extend-beyond-the-size-of-a-single-node-to-be-flush-with-other-arches">
          The arches must extend beyond the size of a single node to be flush with other arches.
        </figcaption>
      </figure>
    

  
  







<h6 id="4-rooms-and-hallways">4. Rooms and Hallways</h6>
<p>MODERN MEDICINE uses a hierarchical procedural generation system, meaning that at runtime, objects can spawn other objects, which in turn can spawn additional objects, creating layers of variation and complexity. This hierarchy allows the world to feel dynamic and responsive while maintaining a structured layout.</p>
<p>Rooms are the dynamic, freeform layer of the system. At runtime, a set of core rooms is randomly placed, followed by optional shortcut and loot rooms. Within each room, procedural generation determines which elements appear, and these elements can themselves spawn additional variations, props, obstacles, or interactable objects, creating a multi-layered, hierarchical layout. Room dimensions are also dynamic, adjusting to accommodate whatever spawns inside. For example, the medfloor room challenges players to duck into side rooms to avoid a wandering radiation monster. While the central L-shaped hallway stays consistent, surrounding areas are procedurally generated from multiple variations, ensuring each playthrough feels fresh. This hierarchical system is supported by internal tooling, which is explored further in the Tools section.</p>
<p>Hallways follow a templated node system, forming a more structured layer of the hierarchy. Each hallway node is modular and can be adjusted at runtime based on its neighbors in the graph. Walls can become doorways, segments can be removed or replaced, and biomes can be applied across multiple nodes to maintain cohesion. Hallway nodes can also spawn secondary elements like props or effects, which in turn may spawn smaller details, continuing the hierarchical pattern.</p>
<p>By combining templated hallway nodes with dynamic, hierarchical room generation, the system creates a world that is both navigable and richly varied. Hallways provide clarity and continuity, while rooms introduce surprises and challenges, and the hierarchical spawning ensures the game feels alive and unpredictable.</p>





















  
  <div
    class=" gallery 
      zoomable
    ">
    
      
      
      
        












  
  
    
    
  
  
  


  
  
    

    
    


    
    
    
    
    
    
    
    


    

    
    
    
      
      
        
        
      
      
    


    
  


  


        
        
        
        

        <div class="gallery-item">
          
            <a
              href="/images/mm/pics/medfloor-layouts/medfloor-A.png"
              style="display: block;"
              class="glightbox">
              <img
                loading="lazy"
                src="/images/mm/pics/medfloor-layouts/medfloor-A_hu1533039328844543245.png"
                class="img"
                style="margin: 0;"
                alt="medfloor-A.png"
                onerror="this.onerror='null';this.src='\/images\/mm\/pics\/medfloor-layouts\/medfloor-A_hu1533039328844543245.png'" />
            </a>
          
        </div>
      
    
      
      
      
        












  
  
    
    
  
  
  


  
  
    

    
    


    
    
    
    
    
    
    
    


    

    
    
    
      
      
        
        
      
      
    


    
  


  


        
        
        
        

        <div class="gallery-item">
          
            <a
              href="/images/mm/pics/medfloor-layouts/medfloor-B.png"
              style="display: block;"
              class="glightbox">
              <img
                loading="lazy"
                src="/images/mm/pics/medfloor-layouts/medfloor-B_hu813179119119010370.png"
                class="img"
                style="margin: 0;"
                alt="medfloor-B.png"
                onerror="this.onerror='null';this.src='\/images\/mm\/pics\/medfloor-layouts\/medfloor-B_hu813179119119010370.png'" />
            </a>
          
        </div>
      
    
      
      
      
        












  
  
    
    
  
  
  


  
  
    

    
    


    
    
    
    
    
    
    
    


    

    
    
    
      
      
        
        
      
      
    


    
  


  


        
        
        
        

        <div class="gallery-item">
          
            <a
              href="/images/mm/pics/medfloor-layouts/medfloor-C.png"
              style="display: block;"
              class="glightbox">
              <img
                loading="lazy"
                src="/images/mm/pics/medfloor-layouts/medfloor-C_hu9850677197337668609.png"
                class="img"
                style="margin: 0;"
                alt="medfloor-C.png"
                onerror="this.onerror='null';this.src='\/images\/mm\/pics\/medfloor-layouts\/medfloor-C_hu9850677197337668609.png'" />
            </a>
          
        </div>
      
    
    
  </div>

  

<h6 id="5-navigation">5. Navigation</h6>
<p>Playtesting revealed that players could become frustrated if they felt lost in the hallways. To address this, direction panels were introduced throughout the world. When activated, these panels illuminate an arrow pointing toward the target destination, and a temporary on-floor line appears to guide the player.</p>

















  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
    
    
    


    
    
      
      
      
    
    

    
    
      <figure
        class="img-center"
        role="group"
        aria-describedby="caption-Direction panels can be activated to assist with navigation.">
      
        <a
          href="/images/mm/gifs/direction-panel.gif"
          class="glightbox" data-glightbox="description: .caption-Direction-panels-can-be-activated-to-assist-with-navigation">
      
          <img
            title="image title"
            loading="lazy"
            decoding="async"
            class="img img-fluid"
            width="800"
            height="500"
            src="/images/mm/gifs/direction-panel.gif"
            alt="A panel on the wall being activated to show an arrow pointing the direction to go."
            onerror="this.onerror='null';this.src=''" />
      
        </a>
      
        <figcaption id="caption-Direction panels can be activated to assist with navigation." class="caption-Direction-panels-can-be-activated-to-assist-with-navigation">
          Direction panels can be activated to assist with navigation.
        </figcaption>
      </figure>
    

  
  







<p>Direction panels are integrated with the hierarchical procedural generation system. They can generate on any wall of a hallway node (north, east, south, or west). When a panel is placed, the system calculates its corresponding node, retrieves the node object, and uses the A* pathfinding system (originally developed for world AI navigation) to determine the optimal path from the panel’s location to the destination room’s doorway.</p>
<p>This path data is sent to the client to display the on-floor guidance line. On the server, the arrow’s facing is calculated by comparing the unit vector from the panel to the first node in the path and the unit vector from the panel to the node’s midpoint. This ensures that the arrow points correctly relative to the wall it is mounted on, providing consistent and accurate navigation cues regardless of hallway orientation.</p>







  

  

  



  

  

  



  

  

  



  

  

  



  

  

  



<a href="http://localhost:1313/modern-medicine#Procedural-Generation" class="btn btn-primary "  rel="" >Back</a>


          </div>
        </div>
      </div>
    </div>
  </section>

    </main>

    
    <footer class="bg-theme-light dark:bg-darkmode-theme-light">
  <div class="container">
    <div class="row items-center py-10">
      <div class="lg:col-3 mb-8 text-center lg:mb-0 lg:text-left">
        
        <a
          class="navbar-brand inline-block"
          href="/">
          















  









  
  
  


  
  
    
    
  


  
  
      
      
    
    
    
    
    
    
  
  

  
  
    
    
      
      


      
      
        
        
        
        

        
        
        
      
      
    
  
  

  
    <img
      fetchpriority="high"
      decoding="async"
      class="img img-light"
      width="160"
      height="32"
      src="/images/name-icon_hu14768301767699835405.webp"
      alt="Will Altman"
      onerror="this.onerror=null;this.src='\/images\/name-icon_hu14170043961657880537.png';" />

    <img
      fetchpriority="high"
      decoding="async"
      class="img img-dark"
      width="160"
      height="32"
      src="/images/name-icon_hu14768301767699835405.webp"
      alt="Will Altman"
      onerror="this.onerror=null;this.src='\/images\/name-icon_hu14170043961657880537.png';" />
  
  


        </a>
      </div>
      <div class="lg:col-6 mb-8 text-center lg:mb-0">
        <ul>
          
        </ul>
      </div>
      <div class="lg:col-3 mb-8 text-center lg:mb-0 lg:mt-0 lg:text-right">
        <ul class="social-icons">
          
            <li>
              <a
                target="_blank"
                aria-label="roblox"
                rel="nofollow noopener"
                href="https://www.roblox.com/users/9095598/profile">
                <i class="fas fa-gamepad"></i>
              </a>
            </li>
          
            <li>
              <a
                target="_blank"
                aria-label="linkedin"
                rel="nofollow noopener"
                href="https://www.linkedin.com/in/will-altman-1982561b3">
                <i class="fab fa-linkedin"></i>
              </a>
            </li>
          
        </ul>
      </div>
    </div>
  </div>
  <div class="border-border dark:border-darkmode-border border-t py-7">
    <div class="text-light dark:text-darkmode-light container text-center">
      <p>
        © 2025 Will Altman
      </p>
    </div>
  </div>
</footer>



    
    



  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  












<script
  crossorigin="anonymous"
  integrity=""
  src="/js/script.js"></script>


<script
  defer
  async
  crossorigin="anonymous"
  integrity=""
  src="/js/script-lazy.js"></script>



<script>
  if ('serviceWorker' in navigator){navigator.serviceWorker.register("/service-worker.js");}
</script>






  












  



  </body>
</html>
